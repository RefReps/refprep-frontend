<!-- Display all of the sections in the course -->
<mat-accordion multi="true">
    <div *ngIf="sections.length != 0" class="list" cdkDropList #sectionsList="cdkDropList" [cdkDropListData]="sections"
        (cdkDropListDropped)="onDrop($event)">
        <div *ngFor="let section of sections" class="p-1">
            <mat-expansion-panel hideToggle cdkDrag [expanded]="true">
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        <div class="sectionName p-2 font-bold text-xl">
                            {{section.name}}
                        </div>
                        <div class="flex-1 flex-col">
                            <button mat-icon-button [matMenuTriggerFor]="editMenu" class="float-right">
                                <mat-icon class="vert">more_vert</mat-icon>
                            </button>
                            <mat-menu #editMenu>
                                <button mat-icon-button color="black" class="float-left"
                                    (click)="openUpdateSectionDialog(section._id)">
                                    <mat-icon>edit</mat-icon>
                                </button>
                                <button (click)="openAddModuleDialog(section._id)" mat-icon-button color="primary"
                                    class="float-left">
                                    <mat-icon>add_circle</mat-icon>
                                </button>
                                <button (click)="openDeleteSectionDialog(section._id)" mat-icon-button color="warn"
                                    class="float-left">
                                    <mat-icon>delete</mat-icon>
                                </button>
                            </mat-menu>
                        </div>
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <app-edit-display-modules [sectionId]=section._id></app-edit-display-modules>
            </mat-expansion-panel>

        </div>
    </div>
</mat-accordion>

<!-- Open Dialog: Add new section -->
<mat-card class="max-w-min float-left">
    <button mat-raised-button class="addSection bg-green-400" (click)="openAddSectionDialog()">Add New Section</button>
</mat-card>

<!-- Return to regular course view -->
<mat-card class="max-w-min float-right">
    <button mat-raised-button color="primary" routerLink="..">Finish</button>
</mat-card>