<div class="center">
    <h1 class="text-display">{{ quizInfo?.quiz?.name }}</h1>
    <div [ngClass]="gradedQuiz.grade! > passingGrade ? 'pass' : 'fail'">
        <h1 class="text-display px-10">{{ getGradePercentage(gradedQuiz.grade) }}% ({{
            getLetterGrade(gradedQuiz.grade)
          }})</h1>
    </div>
</div>

<a class="ml-6" [routerLink]="['/courses', courseId, 'quiz', quizId]">
<button class="bg-blue-400" mat-raised-button>
    <span class="material-icons">
        west
    </span>
</button>
</a>


<div class="flex flex-col">
    <div *ngFor="let question of questions" class="m-5">
        <mat-card *ngIf="question.questionType == '1_CHOICE'">
            <mat-radio-group>
                <mat-label>{{question.questionNumber}}: {{question.question}}</mat-label>
                <div [ngClass]="getQuestionCorrectness(question.questionNumber!) === 1 ? 'pass' : 'fail'">
                    <mat-label class="float-right">
                        Points Earned: {{getQuestionCorrectness(question.questionNumber!)}}/1
                    </mat-label>
                </div>
                <br>
                <mat-radio-group class="mdc-radio--disabled" 
                    [value]="getUserAnswerByQuestionNumber(question.questionNumber!)">
                    <mat-radio-button #choice1 color="primary" value="A" disabled>{{question.responses?.A}}</mat-radio-button><br>
                    <mat-radio-button #choice2 color="primary" value="B" disabled>{{question.responses?.B}}</mat-radio-button><br>
                    <mat-radio-button #choice3 color="primary" value="C" disabled>{{question.responses?.C}}</mat-radio-button><br>
                    <mat-radio-button #choice4 color="primary" value="D" disabled>{{question.responses?.D}}</mat-radio-button><br>
                </mat-radio-group>
            </mat-radio-group>
        </mat-card>
                
        <mat-card *ngIf="question.questionType == 'TRUE_FALSE'">
            <mat-label>{{question.questionNumber}}: {{question.question}}</mat-label>
            <div [ngClass]="getQuestionCorrectness(question.questionNumber!) === 1 ? 'pass' : 'fail'">
                <mat-label class="float-right">
                    Points Earned: {{getQuestionCorrectness(question.questionNumber!)}}/1
                </mat-label>
            </div><br>
            <mat-radio-group #tfAnswer class="mdc-radio--disabled" [value]="getUserAnswerByQuestionNumber(question.questionNumber!)">
                <mat-radio-button #qTrue color="primary" value="true" disabled>true</mat-radio-button><br>
                <mat-radio-button #qFalse color="primary" value="false" disabled>false</mat-radio-button><br>
            </mat-radio-group>
        </mat-card>
        
        <mat-card *ngIf="question.questionType == 'FREE_RESPONSE'">
            <mat-label>{{question.questionNumber}}: {{question.question}}</mat-label>
            <div [ngClass]="getQuestionCorrectness(question.questionNumber!) === 1 ? 'pass' : 'fail'">
                <mat-label class="float-right">
                    Points Earned: {{getQuestionCorrectness(question.questionNumber!)}}/1
                </mat-label>
            </div><br>
                <div class="max-w-sm bg-gray-200 rounded-md px-5 py-2">
                    {{getUserAnswerByQuestionNumber(question.questionNumber!)}}
                </div>
        </mat-card>
    </div>
</div>

<a class="ml-6" [routerLink]="['/courses', courseId, 'quiz', quizId]">
    <button class="bg-blue-400" mat-raised-button>
        <span class="material-icons">
            west
        </span>
    </button>
</a>


